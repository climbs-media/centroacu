<app-cabecera [titulohead]="tituhead"></app-cabecera>

<ion-content>
    <ion-back-button color="primary" defaultHref="/tabs/tab1"></ion-back-button>
    <form [formGroup]="validations_form" (ngSubmit)="onSubmit(validations_form.value)">
    <ion-card>
        <ion-card-header (click)="collapseCard = !collapseCard">
          <ion-card-title text-center>Añade Ejercicio</ion-card-title>
        </ion-card-header>
        <ion-card-content *ngIf="!collapseCard">
          <ion-item>
            <ion-input type="text" placeholder="Nombre Apellido"  formControlName="titulo"></ion-input>
          </ion-item>
          <ion-item>
            <ion-input type="text" placeholder="Descripción de Ejercicio"  formControlName="descripcion"></ion-input>
          </ion-item>
          <ion-item>
              <ion-label>Fecha</ion-label>
              <ion-datetime displayFormat="DD/MM/YYYY" pickerFormat="DD-MM-YYYY" [(ngModel)]="event.horaInicio" [min]="minDate" formControlName="fecha"></ion-datetime>
            </ion-item>
          <ion-item>
            <ion-label>Hora  de Ejercicio</ion-label>
            <ion-datetime displayFormat="HH:mm" pickerFormat="HH:mm"  [min]="minDate" formControlName="horaInicio"></ion-datetime>
          </ion-item>
          <ion-item>
            <ion-label>Finaliza </ion-label>
            <ion-datetime displayFormat="HH:mm" pickerFormat="HH:mm"  [min]="minDate" formControlName="horaFinal"></ion-datetime>
          </ion-item>
          <ion-button type="submit" fill="outline" expand="block" class="asig"  (click)="addEvent()" [disabled]="!validations_form.valid">Asignar</ion-button>
          <!--Funcional
            <ion-button type="submit" fill="outline" expand="block" class="asig" [disabled]="!validations_form.valid" >Asignar</ion-button>
-->
        </ion-card-content>
      </ion-card>
      </form>

      <div class="meses">{{viewTitle}}</div>
      <ion-row margin-top style="margin-top:40px">
          <ion-col size="6" text-left>
            <ion-button fill="clear" (click)="back()" class="flechas">
              <ion-icon name="arrow-back" slot="icon-only"></ion-icon>
            </ion-button>
          </ion-col>
          
          <!-- Move forward one screen of the slides -->
          <ion-col size="6" text-right>
            <ion-button fill="clear" (click)="next()" class="flechas">
              <ion-icon name="arrow-forward" slot="icon-only"></ion-icon>
            </ion-button>
          </ion-col>
        </ion-row>


        <calendar
        [locale]="locale"
        [eventSource]="eventSource"
        [calendarMode]="calendar.mode"
        [currentDate]="calendar.currentDate"
        (onCurrentDateChanged)="onCurrentDateChanged($event)"
        (onRangeChanged)="reloadSource(startTime, endTime)"
        (onEventSelected)="onEventSelected($event)"
        (onTitleChanged)="onViewTitleChanged($event)"
        (onTimeSelected)="onTimeSelected($event)"
        step="5"
        startingDayWeek="1"
        >
      </calendar>
    
    

</ion-content>
